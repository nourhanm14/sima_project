<div class="error-message-container">
    <i class="fas fa-times-circle mr-2"></i>    
    <span>{{errorMessage}}</span>
</div>


<div class="w-75 m-auto py-5">

    <h3 class="my-3">Resigtration Form </h3>

    <form [formGroup]='registerForm'
        (ngSubmit)='submitRegisterForm(registerForm)'>


    
        <div class="form-group">
            <label for="name">Username</label>
            <input [class.is-valid]="registerForm.get('name')?.status=='VALID'" formControlName='name' class="form-control" type="text"
                id="name">

            <div *ngIf='registerForm.get("name")?.errors != null && registerForm.get("name")?.touched' class="error my-2">
                <p *ngIf="registerForm.get('name')?.errors?.required != null">Username is required</p>
                <p *ngIf="registerForm.get('name')?.errors?.minlength != null">Username minimum length is 3</p>
            </div>
        </div>


        <div class="form-group">
            <label for="age">Age</label>
            <input [class.is-valid]="registerForm.get('age')?.status=='VALID'" formControlName='age' class="form-control" type="number"
                id="age">

                <div *ngIf='registerForm.get("age")?.errors != null && registerForm.get("age")?.touched' class="error my-2">
                    <p *ngIf="registerForm.get('age')?.errors?.required != null">Age is required</p>
                    <p *ngIf="registerForm.get('age')?.errors?.min != null">Age minimum is 18</p>
                    <p *ngIf="registerForm.get('age')?.errors?.max != null">Age maximum is 45</p>
                </div>
        </div>


        <div class="form-group">
            <label for="email">Email Address</label>
            <input [class.is-valid]="registerForm.get('email')?.status=='VALID'" formControlName='email' class="form-control" type="email"
                id="email">

            <div *ngIf='registerForm.get("email")?.errors != null && registerForm.get("email")?.touched' class="error my-2">
                <p *ngIf="registerForm.get('email')?.errors?.required != null">Email Address is required</p>
                <p *ngIf="registerForm.get('email')?.errors?.email != null">Email Address is invalid</p>
            </div>
        </div>





        <div class="form-group">
            <label for="password">Password</label>
            <input [class.is-valid]="registerForm.get('password')?.status=='VALID'" formControlName='password' class="form-control"
                type="password" id="password">

            <div *ngIf='registerForm.get("password")?.errors != null && registerForm.get("password")?.touched' class="error my-2">
                <p *ngIf="registerForm.get('password')?.errors?.required != null">Password is required</p>
                <p *ngIf="registerForm.get('password')?.errors?.pattern != null">Password minmimum length is 8</p>
                <p *ngIf="registerForm.get('password')?.errors?.pattern != null">Password must begin with upper case letter and contain lower
                    case or upper case letters
                    and contain one
                    special character '@ , $ , % , # , &'
                </p>
            </div>
        </div>



        <button [disabled]='registerForm.invalid' class="btn btn-info" type="submit">
            <span *ngIf="!isLoading">Register</span>
            <div *ngIf="isLoading" class="spinner-border">
            </div>
        </button>

    </form>

</div>